<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SAT/PSAT Score Percentile Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
        }
        label, select, input, button {
            display: block;
            width: 100%;
            margin-top: 10px;
        }
        button {
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 15px;
            background: #e9ecef;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>SAT/PSAT Score Percentile Calculator</h1>
    <label for="testType">Select Test Type:</label>
    <select id="testType" onchange="updateScoreRange()">
        <option value="SAT">SAT</option>
        <option value="PSAT8/9">PSAT 8/9</option>
        <option value="PSAT10">PSAT 10</option>
    </select>

    <label for="score">Enter Your Score:</label>
    <input type="number" id="score" placeholder="Enter your score">

    <label for="yearPeriod">Select Year Period:</label>
    <select id="yearPeriod">
        <option value="Begin-Year">Begin-Year</option>
        <option value="Mid-Year">Mid-Year</option>
        <option value="End-Year">End-Year</option>
    </select>

    <button onclick="calculatePercentile()">Calculate Percentile</button>

    <div id="result" class="result"></div>
</div>

<script>
    const scoreRanges = {
        SAT: { min: 400, max: 1600 },
        PSAT8_9: { min: 320, max: 1520 },
        PSAT10: { min: 320, max: 1520 }
    };

    const percentiles = {
        SAT: {
            1400: { "Begin-Year": [99, 98.5, 98, 97.5, 97], "Mid-Year": [99, 98.5, 98, 97.5, 97], "End-Year": [99, 98.5, 98, 97.5, 97] },
            1200: { "Begin-Year": [78, 77.5, 77, 76.5, 76], "Mid-Year": [78, 77.5, 77, 76.5, 76], "End-Year": [78, 77.5, 77, 76.5, 76] },
            1000: { "Begin-Year": [61, 60.5, 60, 59.5, 59], "Mid-Year": [61, 60.5, 60, 59.5, 59], "End-Year": [61, 60.5, 60, 59.5, 59] }
        },
        PSAT8_9: {
            1440: { "Begin-Year": [99.9, 99.85, 99.8, 99.7], "Mid-Year": [99.9, 99.85, 99.8, 99.7], "End-Year": [99.9, 99.85, 99.8, 99.7] },
            1200: { "Begin-Year": [98, 97.5, 97, 96.5], "Mid-Year": [98, 97.5, 97, 96.5], "End-Year": [98, 97.5, 97, 96.5] }
        },
        PSAT10: {
            1440: { "Begin-Year": [99.9, 99.85, 99.8, 99.7], "Mid-Year": [99.9, 99.85, 99.8, 99.7], "End-Year": [99.9, 99.85, 99.8, 99.7] },
            1200: { "Begin-Year": [98, 97.5, 97, 96.5], "Mid-Year": [98, 97.5, 97, 96.5], "End-Year": [98, 97.5, 97, 96.5] }
        }
    };

    function updateScoreRange() {
        const testType = document.getElementById("testType").value;
        const scoreInput = document.getElementById("score");
        scoreInput.min = scoreRanges[testType].min;
        scoreInput.max = scoreRanges[testType].max;
        scoreInput.placeholder = `Enter your score (${scoreRanges[testType].min}-${scoreRanges[testType].max})`;
    }

    function calculatePercentile() {
        const testType = document.getElementById("testType").value;
        const score = parseInt(document.getElementById("score").value);
        const yearPeriod = document.getElementById("yearPeriod").value;
        let resultDiv = document.getElementById("result");

        let adjustedPercentiles;
        if (testType === "SAT") {
            adjustedPercentiles = percentiles.SAT[score][yearPeriod];
        } else if (testType === "PSAT8/9") {
            adjustedPercentiles = percentiles.PSAT8_9[score][yearPeriod];
        } else {
            adjustedPercentiles = percentiles.PSAT10[score][yearPeriod];
        }

        let percentileData = '';
        for (let i = 0; i < 5; i++) {
            let grade = `${12 - i}th`;
            if (i === 4) grade = '8th';
            percentileData += `
                <tr>
                    <td>${grade}</td>
                    <td>${1000 - (20 * i)}</td>
                    <td>200</td>
                    <td>${adjustedPercentiles[i]}</td>
                </tr>`;
        }

        resultDiv.innerHTML = `
            <h2>Results</h2>
            <table>
                <tr>
                    <th>Grade</th>
                    <th>Mean</th>
                    <th>SD</th>
                    <th>Percentile</th>
                </tr>
                ${percentileData}
            </table>`;
    }
</script>
</body>
</html>
